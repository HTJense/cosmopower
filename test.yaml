network_name: dev_test
path: test/dev

emulated_code:
  name: camb
  version: "1.5.0"
  inputs: [ ombh2, omch2, As, tau, ns, H0 ]
  extra_args:
    lens_potential_accuracy: 1

samples:
  Ntraining: 1000

  parameters:
    ombh2: [0.015,0.030]
    omch2: [0.09,0.15]
    logA: [2.5,3.5]
    tau: [0.02, 0.20]
    ns: [0.85, 1.05]
    h: [0.4,1.0]
    H0: "lambda h: h * 100.0"
    As: "lambda logA: 1.e-10 * np.exp(logA)"

networks:
  - quantity: "Cl/tt"
    inputs: [ ombh2, omch2, logA, tau, ns, h ]
    type: NN
    log: True
    modes:
      label: l
      range: [2,2508]
    n_traits:
      n_hidden: [ 512, 512, 512, 512 ]
    training:
      validation_split: 0.2
      learning_rates: [ 1.e-2, 1.e-3, 1.e-4, 1.e-5 ]
      batch_sizes: [ 50, 100, 200, 500 ]
      gradient_accumulation_steps: [ 1, 1, 1, 1 ]
      patience_values: [ 10, 10, 10, 10 ]
      max_epochs: [ 1000, 1000, 1000, 1000 ]
  
  - quantity: "Cl/ee"
    inputs: [ ombh2, omch2, logA, tau, ns, h ]
    type: NN
    log: True
    modes:
      label: l
      range: [2,2508]
    n_traits:
      n_hidden: [ 512, 512, 512, 512 ]
    training:
      validation_split: 0.2
      learning_rates: [ 1.e-2, 1.e-3, 1.e-4, 1.e-5 ]
      batch_sizes: [ 50, 100, 200, 500 ]
      gradient_accumulation_steps: [ 1, 1, 1, 1 ]
      patience_values: [ 10, 10, 10, 10 ]
      max_epochs: [ 1000, 1000, 1000, 1000 ]
